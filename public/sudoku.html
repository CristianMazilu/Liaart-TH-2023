<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="checkpoint" content="sudoku">
    <title>LIA Art Treasure Hunt</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/styles.css">

    <!-- Firebase App -->
    <script defer src="/__/firebase/10.0.0/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/10.0.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col">
          <h1>LIA Art Treasure Hunt</h1>

          <!-- New form for entryCode -->
          <form id="entryCodeForm">
            <div class="form-group">
              <input type="text" id="entryCodeInput" class="form-control" placeholder="Introdu codul de acces...">
            </div>
            <button type="submit" class="btn btn-primary">Trimite</button>
          </form>

          <p id="entryCodeMessage"></p>

          <div id="content" style="display:none;">
            <h2>Logica necesară</h2>
            <p>Nava Infinity Explorer are un design complex de redundanță de gradul 8 (adică exită în mod nominal 9 sisteme de orice tip disponibile simultan) a tuturor sistemelor esențiale călătoriei și menținerii condițiilor de viață la bord, pentru a evita cu orice preț naufragierea pasagerilor. Aceste sisteme sunt:</p>
            <ol>
              <li>Sistem de navigație</li>
              <li>Sisteme de susținere a vieții</li>
              <li>Sisteme de comunicații</li>
              <li>Generatoare de energie</li>
              <li>Sisteme de propulsie</li>
              <li>Scuturi și sisteme de apărare</li>
              <li>Gravitație artificială</li>
              <li>Alimente și apă</li>
              <li>Sisteme de management al deșeurilor</li>
            </ol>

            <p>Panoul de control poate comuta între diferite sisteme aflate în funcțiune la un anumit moment. Pentru a asigura o flexibilitate largă în alegerea sistemelor active, ele au fost împărțite într-un grid de 9 x 9.</p>
            <p>Panoul de control poate activa oricare dintre cele 9 sub-griduri 3 x 3, oricare coloană, sau oricare linie a gridului. Pentru ca niciun sistem să rămână descoperit în oricare dintre alegerile panoului de control automat, repartiția sistemelor de control este făcută în așa fel încât oricare sub-grid, linie sau coloană să conțină câte exact un sistem din fiecare tip, sisteme numerotate de la 1 la 9.</p>
            <h5>Problema!</h5>
            <p>Cățelul Șoșok a scăpat din lesa lui și s-a plimbat liber prin nava spațială. Cum legile lui Murphy sunt valabile peste tot în unevers, așa se face că accesul la camera panoului de control a fost deschisă în același interval de timp cât Șoșok se plimba, așa că el a deconectat o parte din sistemele navei.</p>
            <p>Sistemele rămase conectate sunt reprezentate după cum urmează:</p>
            <img class="img-fluid custom-image" src="./resources/SudokuSeed.png" alt="Image 1">

            <h5>Task-ul cel mai urgent:</h5>
            <p>Nava este acum comutată pentru a opera pe coloana 5 a panoului de control, ceea ce înseamnă că toate sistemele sunt deconectate, fapt care nu permite navei nici măcar să comute pe un alt canal, cu măcar o parte din sisteme active.</p>
            <p>Rolul vostru este să determinați exact structura conexiunilor pe întregul panou de control, pentru a readuce nava în condiții de maximă siguranță.</p>
            <p>Iar soluția a acestui checkpoint este exact secvența de cifre corespounzătoare coloanei numărul 5, citită de sus în jos.</p>
            <p><b>Rezolvați și trimiteți soluția cât mai repede, înainte ca rezervele de Oxigen să se epuizeze!</b></p>

            <p style="padding-top: 40px;">Puteți verifica soluția în chenarul de mai jos. <b>Baftă!</b></p>

            <form id="solutionForm">
              <div class="form-group">
                <input type="text" id="solutionInput" class="form-control" placeholder="Introdu soluția...">
              </div>
              <button type="submit" class="btn btn-primary">Trimite soluția!</button>
            </form>
            
            <p id="solutionMessage"></p>
            
            <!-- Div for Map Display -->
            <div id="mapDisplay" style="display:none;">
              <h2>Felicitări!</h2>
              <p>Ați evadat această criză și ați reconectat corect toate sistemele de funcționare ale navei.</p>
              <p>Găsești mai jos locația următorului test. Mergi și caută codul QR pentru a înainta!</p>
              <p>Nu uita să salvezi codul de acces pentru a putea accesa următorul checkpoint: <b id="nextEntryCode"></b></p>
              <iframe id="mapFrame" src="" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    
    <!-- Custom JS -->
    <script src="./js/app.js"></script>
  </body>
</html>
