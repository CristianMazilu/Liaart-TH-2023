<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="checkpoint" content="navigation">
    <title>LIA Art Treasure Hunt</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/styles.css">

    <!-- Firebase App -->
    <script defer src="/__/firebase/10.0.0/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/10.0.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col">
          <h1>LIA Art Treasure Hunt</h1>

          <!-- New form for entryCode -->
          <form id="entryCodeForm">
            <div class="form-group">
              <input type="text" id="entryCodeInput" class="form-control" placeholder="Introdu codul de acces...">
            </div>
            <button type="submit" class="btn btn-primary">Trimite</button>
          </form>

          <p id="entryCodeMessage"></p>

          <div id="content" style="display:none;">
            <h2>Navigație 3D</h2>
            <p>Atenție agenți! În acest test trebuie să vă folosiți abilitățile de călători tridimensionali, și să codificați punctele cheie ale traiectoriei în interiorul clădirii civilizației țintă din galaxia Messier 104.</p>
            <p>Această încercare ne asigură de abilitatea și eficiența voastră de a ajunge rapid și corect la camera cu baza de date țintă.</p>
            <h5>Regulile sunt după cum urmează:</h5>
            <list>
              <li>Clădirea-model este împărțită în 64 de cuburi, pe câte 4 poziții posibile pe fiecare dintre cele 3 axe.</li>
              <li>Axele sunt numerotate în imagini cu caractere alfanumerice: 'A, B, C, D' - '1, 2, 3, 4' - '!, @, #, $'. Fiecare poziție este astfel descrisă de 3 caractere.</li>
              <li>Punctul de plecare trebuie să fie cubul verde (coordonate 'B1!'), iar cel de sosire cubul roșu (coordonate 'D1$').</li>
              <li>Călătoria se poate face doar prin spațiile transparente, pe câte una din cele 3 axe (deci nu pe diagonale), și nu se paote ieși din gridul de 4 x 4 x 4. (<b>Think</b> outside the box, but <b>stay</b> inside the box).</li>
              <li>Codul final este compus din coordonatele cuburilor transparente vizitate, în formatul [literă][număr][simbol]. De exemplu, prima coordonată este B1!, și ultima este D1$, așadar codul va avea forma 'B1![...]D1$'.</li>
              <li>Există o singură traiectorie considerată corectă, și aceea este cea mai scurtă dintre toate traiectoriile posibile.</li>
            </list>

            <h5>Aici este schema clădirii, în 4 secțiuni care permit vizualizarea structurii interne:</h5>
            <div>
              <img class="img-fluid custom-image" src="./resources/3DMaze-Layer1.png" alt="Image 1">
              <img class="img-fluid custom-image" src="./resources/3DMaze-Layer2.png" alt="Image 2">
              <img class="img-fluid custom-image" src="./resources/3DMaze-Layer3.png" alt="Image 3">
              <img class="img-fluid custom-image" src="./resources/3DMaze-Layer4.png" alt="Image 4">
            </div>

            <p style="padding-top: 40px;">Puteți verifica soluția în chenarul de mai jos. <b>Baftă!</b></p>

            <form id="solutionForm">
              <div class="form-group">
                <input type="text" id="solutionInput" class="form-control" placeholder="Introdu soluția...">
              </div>
              <button type="submit" class="btn btn-primary">Trimite soluția!</button>
            </form>
            
            <p id="solutionMessage"></p>
            
            <!-- Div for Map Display -->
            <div id="mapDisplay" style="display:none;">
              <h2>Felicitări!</h2>
              <p>Abilitățile voastre de navigare vă vor conduce precis la locația datelor secrete.</p>
              <p>Găsești mai jos locația următorului test. Mergi și caută codul QR pentru a înainta!</p>
              <p>Nu uita să salvezi codul de acces pentru a putea accesa următorul checkpoint: <b id="nextEntryCode"></b></p>
              <iframe id="mapFrame" src="" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    
    <!-- Custom JS -->
    <script src="./js/app.js"></script>
  </body>
</html>
